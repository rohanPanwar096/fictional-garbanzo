{"version":3,"sources":["components/map/index.js","components/sidebar/graph.js","components/sidebar/country-select.js","components/sidebar/parameter-select.js","components/sidebar/index.js","App.js","reportWebVitals.js","index.js"],"names":["Map","setCountryGraph","mapContainer","useRef","map","useState","lng","setLng","lat","setLat","zoom","setZoom","marker","mapboxgl","Marker","useEffect","navigator","geolocation","getCurrentPosition","position","coords","latitude","longitude","current","container","style","center","setLngLat","addTo","nav","NavigationControl","addControl","GeolocateControl","positionOptions","enableHighAccuracy","trackUserLocation","on","getCenter","toFixed","getZoom","fetch","method","then","res","json","data","console","log","catch","err","className","ref","accessToken","Graph","emissionData","selectedCountry","selectedParam","dataSet","setDataSet","graphData","filter","graphVar","i","push","x","year","y","value","label","axes","React","useMemo","primary","type","width","height","CountrySelect","countrySelect","options","setOptions","newArr","uniqueObject","j","placeholder","onChange","e","ParameterSelect","paramSelect","initialVal","setVal","handleChange","Sidebar","countryGraph","setSelectedParam","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0eb6c512.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport mapboxgl from '!mapbox-gl'; // eslint-disable-line import/no-webpack-loader-syntax\n\nmapboxgl.accessToken = 'pk.eyJ1Ijoicm9oYW4tMzIxIiwiYSI6ImNrOWJiaDI2ODBkNnUzbWxrcjhwZmI3bDcifQ.q-SEkV9HsLCAKE5IOHPXsw';\n\nexport default function Map({setCountryGraph}) {\nconst mapContainer = useRef(null);\nconst map = useRef(null);\nconst [lng, setLng] = useState(-70.9);\nconst [lat, setLat] = useState(42.35);\nconst [zoom, setZoom] = useState(9);\n\nconst marker = new mapboxgl.Marker();\n\nuseEffect(() => {\n\n  //navigator object to access user location or you can hardcode the lat long of your desired location\n  navigator.geolocation.getCurrentPosition(function(position) {\n    // console.log(\"Position\",position)\n    setLat(position.coords.latitude);\n    setLng(position.coords.longitude);\n\n    if (map.current) return; // initialize map only once\n    map.current = new mapboxgl.Map({\n    container: mapContainer.current,\n    style: 'mapbox://styles/mapbox/streets-v11',\n    center: [position.coords.longitude, position.coords.latitude],\n    zoom: zoom\n    });\n\n    marker.setLngLat([position.coords.longitude, position.coords.latitude])\n    marker.addTo(map.current);\n    \n    const nav = new mapboxgl.NavigationControl();\n    map.current.addControl(nav, \"top-right\");\n\n    map.current.addControl(\n      new mapboxgl.GeolocateControl({\n      positionOptions: {\n      enableHighAccuracy: true\n      },\n      trackUserLocation: true\n      })\n      );\n  });\n},[])\n\nuseEffect(() => {\n  if (!map.current) return; // wait for map to initialize\n  map.current.on('click', () => {\n  setLng(map.current.getCenter().lng.toFixed(4));\n  setLat(map.current.getCenter().lat.toFixed(4));\n  setZoom(map.current.getZoom().toFixed(2));\n  });\n\n  fetch(`http://api.geonames.org/countryCodeJSON?lat=${lat}&lng=${lng}&username=prohan`,{\n    method: \"GET\",\n  }).then((res) => {\n    return res.json();\n  }).then((data) => {\n    console.log(\"DATA OF Country\",data)\n    setCountryGraph(data[\"countryName\"]);\n  }).catch((err) => {\n    console.log(\"ERROR Occured\",err);\n  })\n  },[lng,lat]);\n\n  return (\n    //The code to render a map goes here.\n    <div className=\"map\">\n      <div className=\"sidebar_map\">\nLongitude: {lng} | Latitude: {lat} | Zoom: {zoom}\n</div>\n      <div ref={mapContainer} className=\"map-container\" />\n    </div>\n  );\n}\n","import React,{useState,useEffect} from 'react'\nimport { Chart } from 'react-charts'\n \nexport default function Graph({emissionData,selectedCountry,selectedParam}) {\n  const [dataSet, setDataSet] = useState([]);\n  let graphData = emissionData.filter((data) => data[\"country_or_area\"] === selectedCountry && data[\"category\"] === selectedParam);\n\n  if(selectedCountry === \"India\") {\n    graphData = emissionData.filter((data) => data[\"country_or_area\"] === \"Australia\" && data[\"category\"] === selectedParam);\n  }\n\n//console.log(\"Graph\",graphData);\n\n  let graphVar = [];\n\n  for(let i in graphData) {\n    //graphVar.push(graphData[i]['year'],graphData[i]['value']);\n    graphVar.push({\n      x: graphData[i].year,\n      y: graphData[i].value,\n  });\n  }\n\n  useEffect(() => {\n    setDataSet([\n      {\n        label: 'Series 1',\n        data: graphVar\n      }\n    ])\n   // console.log(\"GRaph var\",graphVar)\n  },[selectedCountry,selectedParam])\n\n  //console.log(\"Graph data\",graphVar)\n \n  const axes = React.useMemo(\n    () => [\n      { primary: true, type: 'linear', position: 'bottom' },\n      { type: 'linear', position: 'left' }\n    ],\n    []\n  )\n \n  return (\n    <div\n      style={{\n        width: '400px',\n        height: '300px'\n      }}\n      className=\"chart\"\n    >\n      <p>Example Graph</p>\n      <Chart data={dataSet} axes={axes} />\n    </div>\n  )\n}","import React,{useState,useEffect} from 'react'\nimport 'react-dropdown/style.css';\nimport Dropdown from 'react-dropdown';\n\nexport default function CountrySelect({data,countrySelect, selectedCountry}) {\n    //Write logic to render all countries as dropdown options\n   // const [initialCountry, setCountry] = useState(\"Australia\");\n    const [options,setOptions] = useState([]);\n\n    \n  if(selectedCountry === \"India\") {\n    selectedCountry = \"Australia\";\n  }\n\n    const handleChange = (e) => {\n        countrySelect(e.value);\n    }\n\n    //console.log(\"selected\",initialCountry)\n\n    useEffect(() => {\n        countrySelect(selectedCountry);\n    },[selectedCountry])\n    \n\n    useEffect(() => {\n        let newArr= [];\n        let uniqueObject = {};\n        let country;\n        for(let i in data) {\n            //console.log(\"Emission data\",emissionData[i][\"country_or_area\"])\n            country = data[i][\"country_or_area\"];\n            uniqueObject[country] = data[i];\n        }\n\n        for(let j in uniqueObject) {\n            //console.log(\"UNique Country\",uniqueObject[j])\n            newArr.push(uniqueObject[j][\"country_or_area\"]);\n        }\n        //console.log(\"Options\",newArr)\n        setOptions(newArr)\n    },[])\n   //const defaultOption = options[0];\n\n    return(\n        <div className=\"country-select\">\n            <Dropdown options={options}  placeholder=\"Select an option\" value={selectedCountry} onChange={handleChange}/>\n        </div>\n    )\n}","import React,{useEffect, useState} from 'react'\nimport 'react-dropdown/style.css';\nimport Dropdown from 'react-dropdown';\n\nexport default function ParameterSelect({data,paramSelect}) {\n    //Write logic to render all countries as dropdown options\n    const [initialVal, setVal] = useState(\"CO2\")\n    const [options,setOptions] = useState([]);\n\n    const handleChange = (e) => {\n        setVal(e.value)\n    }\n   // const defaultOption = options[0];\n    //console.log(\"Selected\",initialVal)\n    useEffect(() => {\n        paramSelect(initialVal)\n    },[initialVal])\n\n    useEffect(() => {\n        let newArr= [];\n        let uniqueObject = {};\n        let param;\n\n        for(let i in data) {\n            //console.log(\"Emission data\",emissionData[i][\"country_or_area\"])\n            param = data[i][\"category\"];\n            uniqueObject[param] = data[i];\n        }\n\n        for(let j in uniqueObject) {\n            //console.log(\"UNique Country\",uniqueObject[j])\n            newArr.push(uniqueObject[j][\"category\"]);\n        }\n        setOptions(newArr)\n    },[])\n    \n    return(\n        <div className=\"parameter-select\">\n            <Dropdown options={options} value={initialVal} placeholder=\"Select an option\" onChange={(e) => handleChange(e)}/>\n        </div>\n    )\n}","import React,{useEffect,useState} from 'react';\nimport Graph from './graph';\nimport CountrySelect from './country-select';\nimport ParameterSelect from './parameter-select';\nimport emissionData from '../../data/data.json'\n\nexport default function Sidebar({countryGraph,setCountryGraph}) {\n  // const [selectedCountry,setSelectedCountry] = useState(\"Australia\");\n  const [selectedParam,setSelectedParam] = useState(\"CO2\");\n  return (\n    <div className=\"sidebar\">\n      <div className=\"dropdowns\">\n        <CountrySelect selectedCountry={countryGraph} data={emissionData} countrySelect={setCountryGraph}/>\n        <ParameterSelect data={emissionData} paramSelect={setSelectedParam}/>\n      </div>\n      <Graph emissionData={emissionData} selectedCountry={countryGraph} selectedParam={selectedParam}/>\n    </div>\n  );\n}\n","import './App.css';\nimport React,{useState,useEffect} from 'react';\nimport Map from './components/map';\nimport Sidebar from './components/sidebar';\n\nfunction App() {\n  const [countryGraph,setCountryGraph] = useState(\"Australia\");\n  \n  return (\n    <div className=\"App\">\n      <Sidebar countryGraph={countryGraph} setCountryGraph={setCountryGraph} />\n      <Map setCountryGraph={setCountryGraph} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'mapbox-gl/dist/mapbox-gl.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}